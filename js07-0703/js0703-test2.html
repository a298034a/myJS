<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //請輸入成績N次，直到輸入{-1}或{取消}就結束
        /*
            第1次分數: 90
            第2次分數: 50
            第3次分數: 60
            第4次分數: -1
            -------
            及格人數: 2人
            不及格人數: 1人
            總分: 200分
            總平均: 66.7分
        */

        let time = 0;
        let pass = 0;
        let failed = 0;
        let total = 0;

        while (true) {
            let score = prompt("請輸入分數");
            if (score == -1 || score == null) {
                time++;
                document.write(`第${time}次分數: -1/取消<br>`);
                break;
            }

            if (score == "") {
                alert("輸入了空值  請重新輸入");
                continue;
            }

            if (isNaN(score)) {
                alert("非數值 請重新輸入");
                continue;
            }

            score = Number(score.trim());
            if(score < 0 || score > 100){
                alert("非有效分數範圍 0-100 請重新輸入");
                continue;
            }

            calculateScore(score);
        }

        document.write(`-------------<br>`);
        document.write(`及格人數: ${pass}人<br>`);
        document.write(`不及格人數: ${failed}人<br>`);
        document.write(`總分: ${total}分<br>`);
        document.write(`總平均: ${(total / (pass + failed)).toFixed(1)}分`);

        function calculateScore(intNum) {
            if (intNum >= 60) {
                pass++;
            } else {
                failed++;
            }

            time++;
            document.write(`第${time}次分數: ${intNum}分<br>`);
            total += intNum;
        }
    </script>
</body>

</html>